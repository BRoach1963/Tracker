<UserControl x:Class="Tracker.Controls.DashboardControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:lvc="clr-namespace:LiveCharts.Wpf;assembly=LiveCharts.Wpf"
             xmlns:local="clr-namespace:Tracker.Controls"
             mc:Ignorable="d"
             d:DesignHeight="600" d:DesignWidth="800">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Resources/Styles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid Margin="10">
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <!-- Summary Cards -->
                <TextBlock Text="Summary Statistics"
                           FontSize="20"
                           FontWeight="SemiBold"
                           Foreground="{DynamicResource ForegroundBrush}"
                           Margin="0,0,0,15"/>
                
                <UniformGrid Columns="4" Margin="0,0,0,20">
                    <!-- Team Members Card -->
                    <Border Background="{DynamicResource BackgroundBrush}"
                            BorderBrush="{DynamicResource BorderBrush}"
                            BorderThickness="1"
                            CornerRadius="8"
                            Padding="15"
                            Margin="5">
                        <StackPanel>
                            <TextBlock Text="Team Members"
                                       Foreground="{DynamicResource HintTextBrush}"
                                       FontSize="12"/>
                            <TextBlock Text="{Binding TotalTeamMembers}"
                                       Foreground="{DynamicResource ForegroundBrush}"
                                       FontSize="24"
                                       FontWeight="Bold"/>
                        </StackPanel>
                    </Border>

                    <!-- 1:1 Meetings Card -->
                    <Border Background="{DynamicResource BackgroundBrush}"
                            BorderBrush="{DynamicResource BorderBrush}"
                            BorderThickness="1"
                            CornerRadius="8"
                            Padding="15"
                            Margin="5">
                        <StackPanel>
                            <TextBlock Text="1:1 Meetings"
                                       Foreground="{DynamicResource HintTextBrush}"
                                       FontSize="12"/>
                            <TextBlock Text="{Binding TotalOneOnOnes}"
                                       Foreground="{DynamicResource ForegroundBrush}"
                                       FontSize="24"
                                       FontWeight="Bold"/>
                            <TextBlock Text="{Binding UpcomingMeetings, StringFormat='{}{0} upcoming'}"
                                       Foreground="{DynamicResource AccentBrush}"
                                       FontSize="10"
                                       Margin="0,5,0,0"/>
                        </StackPanel>
                    </Border>

                    <!-- Tasks Card -->
                    <Border Background="{DynamicResource BackgroundBrush}"
                            BorderBrush="{DynamicResource BorderBrush}"
                            BorderThickness="1"
                            CornerRadius="8"
                            Padding="15"
                            Margin="5">
                        <StackPanel>
                            <TextBlock Text="Tasks"
                                       Foreground="{DynamicResource HintTextBrush}"
                                       FontSize="12"/>
                            <TextBlock Text="{Binding TotalTasks}"
                                       Foreground="{DynamicResource ForegroundBrush}"
                                       FontSize="24"
                                       FontWeight="Bold"/>
                            <TextBlock Text="{Binding TaskCompletionPercentage, StringFormat='{}{0:F1}% complete'}"
                                       Foreground="{DynamicResource AccentBrush}"
                                       FontSize="10"
                                       Margin="0,5,0,0"/>
                        </StackPanel>
                    </Border>

                    <!-- Projects Card -->
                    <Border Background="{DynamicResource BackgroundBrush}"
                            BorderBrush="{DynamicResource BorderBrush}"
                            BorderThickness="1"
                            CornerRadius="8"
                            Padding="15"
                            Margin="5">
                        <StackPanel>
                            <TextBlock Text="Projects"
                                       Foreground="{DynamicResource HintTextBrush}"
                                       FontSize="12"/>
                            <TextBlock Text="{Binding TotalProjects}"
                                       Foreground="{DynamicResource ForegroundBrush}"
                                       FontSize="24"
                                       FontWeight="Bold"/>
                        </StackPanel>
                    </Border>
                </UniformGrid>

                <!-- Charts Row 1 -->
                <Grid Margin="0,0,0,20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Task Completion Chart -->
                    <Border Grid.Column="0"
                            Background="{DynamicResource BackgroundBrush}"
                            BorderBrush="{DynamicResource BorderBrush}"
                            BorderThickness="1"
                            CornerRadius="8"
                            Padding="15"
                            Margin="0,0,10,0">
                        <StackPanel>
                            <TextBlock Text="Task Completion"
                                       FontSize="16"
                                       FontWeight="SemiBold"
                                       Foreground="{DynamicResource ForegroundBrush}"
                                       Margin="0,0,0,10"/>
                            <lvc:PieChart Series="{Binding TaskCompletionSeries}"
                                         LegendLocation="Bottom"
                                         Hoverable="False"
                                         DataTooltip="{x:Null}">
                                <lvc:PieChart.ChartLegend>
                                    <lvc:DefaultLegend Foreground="{DynamicResource ForegroundBrush}"/>
                                </lvc:PieChart.ChartLegend>
                            </lvc:PieChart>
                        </StackPanel>
                    </Border>

                    <!-- KPI Status Chart -->
                    <Border Grid.Column="1"
                            Background="{DynamicResource BackgroundBrush}"
                            BorderBrush="{DynamicResource BorderBrush}"
                            BorderThickness="1"
                            CornerRadius="8"
                            Padding="15"
                            Margin="10,0,0,0">
                        <StackPanel>
                            <TextBlock Text="KPI Status Distribution"
                                       FontSize="16"
                                       FontWeight="SemiBold"
                                       Foreground="{DynamicResource ForegroundBrush}"
                                       Margin="0,0,0,10"/>
                            <lvc:PieChart Series="{Binding KpiStatusSeries}"
                                         LegendLocation="Bottom"
                                         Hoverable="False"
                                         DataTooltip="{x:Null}">
                                <lvc:PieChart.ChartLegend>
                                    <lvc:DefaultLegend Foreground="{DynamicResource ForegroundBrush}"/>
                                </lvc:PieChart.ChartLegend>
                            </lvc:PieChart>
                        </StackPanel>
                    </Border>
                </Grid>

                <!-- Charts Row 2 -->
                <Grid Margin="0,0,0,20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- OKR Progress Chart -->
                    <Border Grid.Column="0"
                            Background="{DynamicResource BackgroundBrush}"
                            BorderBrush="{DynamicResource BorderBrush}"
                            BorderThickness="1"
                            CornerRadius="8"
                            Padding="15"
                            Margin="0,0,10,0">
                        <StackPanel>
                            <TextBlock Text="OKR Status"
                                       FontSize="16"
                                       FontWeight="SemiBold"
                                       Foreground="{DynamicResource ForegroundBrush}"
                                       Margin="0,0,0,10"/>
                            <lvc:CartesianChart Series="{Binding OkrProgressSeries}"
                                               LegendLocation="Bottom"
                                               Hoverable="True">
                                <lvc:CartesianChart.AxisX>
                                    <lvc:Axis Labels="{Binding OkrProgressLabels}"
                                             Foreground="{DynamicResource ForegroundBrush}"/>
                                </lvc:CartesianChart.AxisX>
                                <lvc:CartesianChart.AxisY>
                                    <lvc:Axis Foreground="{DynamicResource ForegroundBrush}"/>
                                </lvc:CartesianChart.AxisY>
                                <lvc:CartesianChart.ChartLegend>
                                    <lvc:DefaultLegend Foreground="{DynamicResource ForegroundBrush}"/>
                                </lvc:CartesianChart.ChartLegend>
                            </lvc:CartesianChart>
                        </StackPanel>
                    </Border>

                    <!-- Team Activity Chart -->
                    <Border Grid.Column="1"
                            Background="{DynamicResource BackgroundBrush}"
                            BorderBrush="{DynamicResource BorderBrush}"
                            BorderThickness="1"
                            CornerRadius="8"
                            Padding="15"
                            Margin="10,0,0,0">
                        <StackPanel>
                            <TextBlock Text="Team Activity (Last 6 Months)"
                                       FontSize="16"
                                       FontWeight="SemiBold"
                                       Foreground="{DynamicResource ForegroundBrush}"
                                       Margin="0,0,0,10"/>
                            <lvc:CartesianChart Series="{Binding TeamActivitySeries}"
                                               LegendLocation="Bottom"
                                               Hoverable="True">
                                <lvc:CartesianChart.AxisX>
                                    <lvc:Axis Labels="{Binding TeamActivityLabels}"
                                             Foreground="{DynamicResource ForegroundBrush}"/>
                                </lvc:CartesianChart.AxisX>
                                <lvc:CartesianChart.AxisY>
                                    <lvc:Axis Foreground="{DynamicResource ForegroundBrush}"/>
                                </lvc:CartesianChart.AxisY>
                            </lvc:CartesianChart>
                        </StackPanel>
                    </Border>
                </Grid>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>

