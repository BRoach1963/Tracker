<Window x:Class="Tracker.Views.Dialogs.LoginDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:converters="clr-namespace:Tracker.Common.Converters"
        xmlns:customControls="clr-namespace:Tracker.Controls.CustomControls"
        xmlns:languages="clr-namespace:Tracker.Resources.Languages"
        xmlns:dialogViewModels="clr-namespace:Tracker.ViewModels.DialogViewModels"
        xmlns:attachedProperties="clr-namespace:Tracker.AttachedProperties"
        mc:Ignorable="d"
        MouseDown="OnDragHandleMouseDown"
        WindowStyle="None"
        ResizeMode="CanResize"
        WindowStartupLocation="CenterScreen"
        AllowsTransparency="True"
        SizeToContent="WidthAndHeight"
        Background="Transparent"
        ShowInTaskbar="False"
        d:DataContext="{d:DesignInstance Type=dialogViewModels:LoginDialogViewModel}"
        MinWidth="250">
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Resources/Styles/DialogStyles.xaml" />
            </ResourceDictionary.MergedDictionaries>
            <SolidColorBrush x:Key="ForegroundBrush"
                             Color="#FFB612" />
            <SolidColorBrush x:Key="BackgroundBrush"
                             Color="#101820" />
        </ResourceDictionary>
    </Window.Resources>
    <Grid>
        <Border Background="{DynamicResource BackgroundBrush}"
                BorderThickness="1"
                BorderBrush="{DynamicResource ForegroundBrush}"
                CornerRadius="12">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="5" />
                </Grid.RowDefinitions>
                <Border Grid.Row="0"
                        Height="Auto"
                        Background="{DynamicResource BackgroundBrush}"
                        CornerRadius="12,12,0,0">
                    <Grid Margin="10,5,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>
                        <Path Grid.Column="0"
                              Data="M22,5.5A3.5,3.5 0 0,0 18.5,2A3.5,3.5 0 0,0 15,5.5V6A3,3 0 0,1 12,9C10,9 9,6 6,6A4,4 0 0,0 2,10V11H4V10A2,2 0 0,1 6,8C6.86,8 7.42,8.45 8.32,9.24C9.28,10.27 10.6,10.9 12,11A5,5 0 0,0 17,6V5.5A1.5,1.5 0 0,1 18.5,4A1.5,1.5 0 0,1 20,5.5C19.86,6.35 19.58,7.18 19.17,7.94C18.5,9.2 18.11,10.58 18,12C18.09,13.37 18.5,14.71 19.21,15.89C19.6,16.54 19.87,17.25 20,18A2,2 0 0,1 18,20A2,2 0 0,1 16,18A3.75,3.75 0 0,0 12.25,14.25A3.75,3.75 0 0,0 8.5,18V18.5A1.5,1.5 0 0,1 7,20A3,3 0 0,1 4,17V15H6V13H0V15H2V17A5,5 0 0,0 7,22A3.5,3.5 0 0,0 10.5,18.5V18A1.75,1.75 0 0,1 12.25,16.25A1.75,1.75 0 0,1 14,18A4,4 0 0,0 18,22A4,4 0 0,0 22,18C22,16 20,14 20,12C20,10 22,7.5 22,5.5Z"
                              Stretch="Uniform"
                              Height="14"
                              Margin="0,0,10,0"
                              Fill="{DynamicResource ForegroundBrush}" />
                        <Label Content="{x:Static languages:Resources.Main_Title}"
                               Grid.Column="1"
                               FontStyle="Normal"
                               FontSize="14"
                               Style="{StaticResource LabelStyle}"></Label>
                    </Grid>
                </Border>
                <customControls:TextBoxWithHint x:Name="UserNameTextBox"
                                                Grid.Row="1"
                                                Text="{Binding UserName}"
                                                IsEnabled="{Binding ElementName=UseLocalCreds, Path=IsChecked, Converter={x:Static converters:ReverseBooleanConverter.Instance}}"
                                                Margin="10"
                                                HintText="{x:Static languages:Resources.HintText_UserName}" />
                <PasswordBox Grid.Row="2"
                             attachedProperties:PasswordBinder.BindPassword="True"
                             attachedProperties:PasswordBinder.BoundPassword="{Binding Password, Mode=TwoWay}"
                             IsEnabled="{Binding ElementName=UseLocalCreds, Path=IsChecked, Converter={x:Static converters:ReverseBooleanConverter.Instance}}"
                             Margin="10,0,10,10" />

                <customControls:CheckBoxWithHelperText x:Name="UseLocalCreds"
                                                       Grid.Row="3"
                                                       IsChecked="{Binding UseWindowsAuthentication}"
                                                       HelperText="Uses your local credentials"
                                                       Margin="10,0,10,10"
                                                       Content="Use Windows Login" />
                <StackPanel Grid.Row="4"
                            Orientation="Horizontal"
                            HorizontalAlignment="Right">
                    <Button Margin="0,0,10,5"
                            Style="{StaticResource DialogButtonStyle}"
                            HorizontalAlignment="Right"
                            Command="{Binding CancelCommand}"
                            Content="{x:Static languages:Resources.Button_Cancel}" />
                    <Button Margin="0,0,10,5"
                            Style="{StaticResource DialogButtonStyle}"
                            HorizontalAlignment="Right"
                            Command="{Binding LoginCommand}"
                            Content="{x:Static languages:Resources.Button_Login}" />
                </StackPanel>

            </Grid>
        </Border>

    </Grid>
</Window>
